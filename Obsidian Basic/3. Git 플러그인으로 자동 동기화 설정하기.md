[[Obsidian Basic]]
# Obsidian Git 플러그인으로 자동 동기화 설정하기

Obsidian에서 Git을 사용하여 자동으로 commit, push, pull을 설정하는 방법을 단계별로 안내합니다.

## 1. 사전 준비

#### Git 설치

1. [Git 공식 사이트](https://git-scm.com/downloads)에서 운영체제에 맞는 Git 설치
2. 설치 후 터미널/명령 프롬프트에서 `git --version`으로 설치 확인

#### GitHub 계정 설정

1. GitHub 계정 생성 (이미 있다면 생략)
2. GitHub에 저장소 생성 (이미 생성했다면 생략)

## 2. Git 플러그인 설치

1. Obsidian 열기
2. 설정(⚙️) > 커뮤니티 플러그인 > 탐색에서 "Git" 검색
3. 설치 버튼 클릭
4. 설치 후 플러그인 활성화 (토글 켜기)

## 3. 저장소 초기 설정

#### 기존 Git 저장소가 없는 경우

1. 명령 팔레트 열기 (Ctrl/Cmd + P)
2. `Obsidian Git: Initialize a new repo` 명령 실행
3. 터미널에서 다음 명령 실행 (처음 한 번만):
    
    ```bash
    cd [옵시디언 저장소 경로]git remote add origin https://github.com/[사용자명]/[저장소명].git
    ```
    

### 기존 Git 저장소를 사용하는 경우

1. 터미널에서 다음 명령 실행:
    
    ```bash
    cd [옵시디언 저장소 경로]git pull origin main
    ```
    
## 4. Obsidian Git 자동 동기화 설정

1. 설정(⚙️) > 커뮤니티 플러그인 > Git > 설정

### 자동 백업 설정

1. "Auto Commit-and-sync interval (minutes)" 설정 - 원하는 간격으로 설정 (예: 10분)
2. "Commit message" 설정 - 자동 커밋 메시지 형식 설정 (기본값: `vault backup: {{date}}`)

### 자동 Push 설정

1. "Auto push" 활성화
2. "Push on backup" 활성화

### 자동 Pull 설정

1. "Auto pull interval (minutes)" 설정 - 원하는 간격으로 설정 (예: 10분)
2. "Pull changes before push" 활성화 (충돌 방지)

### 충돌 관리 설정

1. "Disable push when pull has resulted in merge conflict" 활성화 (선택사항)
2. "Show diff view for file with conflict" 활성화 (선택사항)

## 6. .gitignore 설정 (선택사항)

저장소 루트에 `.gitignore` 파일을 생성하고 다음 내용 추가:

```
# 제외할 파일/폴더
.trash/
.DS_Store
.obsidian/workspace.json
.obsidian/workspace
.obsidian/cache
```

## 7. 수동 제어 명령어

자동 동기화 외에도 필요할 때 수동으로 제어할 수 있는 명령어들:

- `Obsidian Git: Commit all changes` - 모든 변경사항 커밋
- `Obsidian Git: Push` - 원격 저장소로 푸시
- `Obsidian Git: Pull` - 원격 저장소에서 변경사항 가져오기
- `Obsidian Git: View diff` - 변경사항 확인
- `Obsidian Git: Create backup` - 백업 생성 (커밋 + 푸시)
- `Obsidian Git: Open source control view` - 소스 제어 보기 열기

## 8. 여러 기기에서 사용하기

1. 첫 번째 기기에서 설정 완료 및 푸시
2. 두 번째 기기에서:
    - Obsidian 설치
    - 새 저장소 생성
    - Obsidian Git 플러그인 설치
    - 터미널에서:
        
        ```bash
        git clone https://github.com/[사용자명]/[저장소명].git [옵시디언 저장소 경로]
        ```
        
    - 클론한 폴더를 Obsidian에서 저장소로 열기
    - Obsidian Git 설정 동일하게 구성

## 9. 문제 해결

### 인증 오류

- PAT 토큰이 올바른지 확인
- SSH 키가 제대로 설정되었는지 확인
- 터미널에서 수동으로 push/pull 테스트

### 충돌 발생

1. Obsidian Git 소스 제어 보기 열기
2. 충돌 파일 확인
3. 파일 수동 편집하여 충돌 해결
4. 변경사항 커밋
5. Push 진행

### 동기화 간격이 작동하지 않는 경우

1. Obsidian 재시작
2. 설정 값이 숫자인지 확인
3. 플러그인 비활성화 후 재활성화

## 10. 모범 사례

- 너무 짧은 동기화 간격은 피하기 (5분 이상 권장)
- 중요한 변경 전에는 수동으로 pull 실행
- 큰 파일은 .gitignore에 추가하여 제외
- 커밋 메시지에 작업 내용 간략히 포함
- 정기적으로 Git 저장소 백업